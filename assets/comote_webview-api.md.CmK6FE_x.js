import{_ as t,o as a,c as o,ak as n}from"./chunks/framework.BLWuzyvc.js";const w=JSON.parse('{"title":"Webview JavaScript API","description":"","frontmatter":{},"headers":[],"relativePath":"comote/webview-api.md","filePath":"comote/webview-api.md"}'),l={name:"comote/webview-api.md"};function s(i,e,d,r,c,p){return a(),o("div",null,[...e[0]||(e[0]=[n(`<h1 id="webview-javascript-api" tabindex="-1">Webview JavaScript API <a class="header-anchor" href="#webview-javascript-api" aria-label="Permalink to “Webview JavaScript API”">​</a></h1><p>The webview aims at being the extension point of the CoMote application.</p><p>The following API is exposed for Web pages running in the Comote webview.</p><h2 id="window-sendevent-key-value" tabindex="-1">window.sendEvent(key, value) <a class="header-anchor" href="#window-sendevent-key-value" aria-label="Permalink to “window.sendEvent(key, value)”">​</a></h2><p>Send a control event from the webview to the native app, events will be propagated in the <code>controls</code> key of the OSC ar WebSocket.</p><p>Enable to extend the application with dedicated control interface</p><table tabindex="0"><thead><tr><th>param</th><th>type</th><th>description</th></tr></thead><tbody><tr><td><code>key</code></td><td>String</td><td>name of the event</td></tr><tr><td><code>value</code></td><td>String</td><td>value of the event</td></tr></tbody></table><h2 id="window-addeventlistener-comote-callback" tabindex="-1">window.addEventListener(&#39;comote&#39;, callback) <a class="header-anchor" href="#window-addeventlistener-comote-callback" aria-label="Permalink to “window.addEventListener(&#39;comote&#39;, callback)”">​</a></h2><p>The &#39;comote&#39; event propagated by <code>window</code> allows to listen for the stream of sensors within the webview.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#F8F8F2;">window.</span><span style="color:#A6E22E;">addEventListener</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;comote&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">e</span><span style="color:#66D9EF;font-style:italic;"> =&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">  const</span><span style="color:#F8F8F2;"> frame </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> e.detail;</span></span>
<span class="line"><span style="color:#88846F;">  // do something with sensors data</span></span>
<span class="line"><span style="color:#F8F8F2;">});</span></span></code></pre></div><h2 id="window-togglemodal" tabindex="-1">window.toggleModal() <a class="header-anchor" href="#window-togglemodal" aria-label="Permalink to “window.toggleModal()”">​</a></h2><p>Toggle fullscreen</p><h2 id="window-setmodal-value" tabindex="-1">window.setModal(value) <a class="header-anchor" href="#window-setmodal-value" aria-label="Permalink to “window.setModal(value)”">​</a></h2><p>Explicitly control the fullscreen behavior</p><table tabindex="0"><thead><tr><th>param</th><th>type</th><th>description</th></tr></thead><tbody><tr><td><code>value</code></td><td>Boolean</td><td>name of the event</td></tr></tbody></table>`,15)])])}const v=t(l,[["render",s]]);export{w as __pageData,v as default};
